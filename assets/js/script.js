(function(){const t=document.getElementById("theme-toggle"),e=t?.querySelector(".theme-icon"),n=document.body;let s;try{s=localStorage.getItem("theme")}catch(e){console.log("localStorage not available:",e)}const i=window.matchMedia("(prefers-color-scheme: dark)").matches,a=s||(i?"dark":"light");if(a==="dark"?(n.classList.add("dark"),document.documentElement.classList.remove("light"),e&&(e.textContent="●")):(n.classList.remove("dark"),document.documentElement.classList.add("light"),e&&(e.textContent="○")),t){const s=t=>{t.preventDefault(),t.stopPropagation();const s=n.classList.toggle("dark");s?document.documentElement.classList.remove("light"):document.documentElement.classList.add("light");try{localStorage.setItem("theme",s?"dark":"light")}catch(e){console.log("Could not save to localStorage:",e)}e&&(e.textContent=s?"●":"○")};t.addEventListener("click",s),t.addEventListener("touchend",s,{passive:!1})}const o=document.querySelector(".year");o&&(o.textContent=(new Date).getFullYear())})()