(function(){const t=document.getElementById("theme-toggle"),e=t?.querySelector(".theme-icon"),n=document.body,o=localStorage.getItem("theme"),i=window.matchMedia("(prefers-color-scheme: dark)").matches,a=o||(i?"dark":"light");if(a==="dark"?(n.classList.add("dark"),e&&(e.textContent="●")):(n.classList.remove("dark"),e&&(e.textContent="○")),t){const s=t=>{t.preventDefault(),t.stopPropagation();const s=n.classList.toggle("dark");try{localStorage.setItem("theme",s?"dark":"light")}catch{}e&&(e.textContent=s?"●":"○")};t.addEventListener("click",s),t.addEventListener("touchend",s,{passive:!1})}const s=document.querySelector(".year");s&&(s.textContent=(new Date).getFullYear())})()